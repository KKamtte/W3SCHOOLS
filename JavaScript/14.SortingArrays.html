<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Sorting Arrays</title>
</head>
<body>
    <h2>Sorting an Array</h2>
    <p>sort()메소드는 배열을 알파벳 순으로 정리한다.</p>
    <button onclick="sort()">sort</button>
    <p id="sort"></p>
    <script>
        var fruits = ["Banana", "Orange", "Apple", "Mango"];
        document.getElementById("sort").innerHTML = fruits;

        function sort() {
            fruits.sort();
            document.getElementById("sort").innerHTML = fruits;
        }
    </script>

    <h2>Reversing an Array</h2>
    <p>reverse()는 배열의 요소를 역순으로 바꾼다.</p>
    <button onclick="reverse()">reverse</button>
    <p id="reverse"></p>
    <script>
        var number = ["1","2","3","4","5"];
        document.getElementById("reverse").innerHTML = number;

        function reverse() {
            number.reverse();
            document.getElementById("reverse").innerHTML = number;
        }
    </script>

    <h2>Numeric Sort</h2>
    <p>숫자를 문자열로 정렬하는 경우 2가 1보다 크기 때문에 25가 100보다 크게 나온다<br>
    이 때문에 sort()메소드는 숫자정렬시에 비교기능을 이용하여 문제를 해결한다.</p>
    <button onclick="numsort()">NumberSort</button>
    <p id="nsort1"></p>
    <p id="nsort2"></p>
    <p id="nsort3"></p>
    <script>
        var point = [40, 100, 1, 5, 25 ,10];
        document.getElementById("nsort1").innerHTML = point;
        function numsort() {
            point.sort();
            document.getElementById("nsort1").innerHTML = "sort()만 사용 : <br>"+point;
            point.sort(function(a,b){return a-b});
            document.getElementById("nsort2").innerHTML = "sort(function(a,b){return a-b}사용 : <br>"+point;
            point.sort(function(a,b){return b-a});
            document.getElementById("nsort3").innerHTML = "내림차순 정렬 {return b-a}: <br>" + point;
        }
    </script>
    
    <h2>Sorting an Array in Random Order</h2>
    <p>랜덤하게 정렬하는 경우 Math.random()함수를 이용하면 된다.</p>
    <button onclick="random()">RandomOrder</button>
    <p id="random"></p>
    <script>
        document.getElementById("random").innerHTML = point;
        function random() {
            point.sort(function(a,b){return 0.5-Math.random()});
            document.getElementById("random").innerHTML = point;
        }
    </script>

    <h2>The Compare Function</h2>
    <p>비교 기능의 목적은 정렬 순서를 정의하는 것이다.<br>
        비교함수는 인수에 따라 음수,0,양수값을 반환한다.<br>
        sort()함수는 두 값을 비교할 떄 값은 비교함수로 보내고 반환된 값에 따라 정렬을 실행한다.<br>
        <ul>
            <li>결과가 음수이면 a가 b보다 먼저 정렬 된다.</li>
            <li>결과가 양수이면 b가 a보다 먼저 정렬 된다.</li>
            <li>결과가 0이면 두 값의 정렬 순서는 변경되지 않는다.</li>
        </ul>
    예를 들어 40과 100을 비교할 때 sort()메소드는 function(40,100)을 호출한다<br>
    이함수는 40-100을 계산하고 결과가 음수(-60)이므로 40을 100보다 낮은 값으로 정렬한다.</p>
    
    <h2>Using Math.max() on an Array</h2>
    <p>Math.max.apply를 사용하여 배열에서 가장 높은 숫자를 찾을 수 있다.</p>
    <p>가장 큰 숫자는 <span id="max"></span>이다.</p>
    <script>
        document.getElementById("max").innerHTML = arrayMax(point);
        function arrayMax(arr) {
            return Math.max.apply(null, arr);
        }
    </script>
    <p>Math.max.apply(null, [1, 2, 3])는 Math.max(1, 2, 3)과 같다.</p>

    <h2>Using Math.min() on an Array</h2>
    <p>Math.min.apply는 가장 낮은 숫자를 찾는다.</p>
    <p>가장 작은 숫자는 <span id="min"></span>이다.</p>
    <script>
        document.getElementById("min").innerHTML = arrayMin(point);
        function arrayMin(arr) {
            return Math.min.apply(null, arr);
        }
    </script>
    <p>Math.min.apply(null, [1, 2, 3])는 Math.min(1, 2, 3)과 같다.</p>

    <h2>Sorting Object Arrays</h2>
    <p>배열의 object요소들도 정렬이 가능하다.</p>
    <button onclick="objsort()">연도순 정렬</button>
    <button onclick="objsort2()">문자열순 정렬</button>
    <p id="car"></p>
    <script>
        var cars = [
            {type:"Volvo", year:2016},
            {type:"Saab", year:2001},
            {type:"BMW", year:2010}
        ];
        displayCars();
        function objsort() { //연도순 정렬
            cars.sort(function(a,b){return a.year - b.year});
            displayCars();
        }
        function objsort2() { //문자열순 정렬
            cars.sort(function(a,b){
                var x = a.type.toLowerCase();
                var y = b.type.toLowerCase();
                if(x < y) {return -1;}
                if(x > y) {return 1;}
                return 0;
            });
            displayCars();
        }
        function displayCars() {
            document.getElementById("car").innerHTML =
            cars[0].type + " " + cars[0].year + "<br>" +
            cars[1].type + " " + cars[1].year + "<br>" +
            cars[2].type + " " + cars[2].year;
        }
    </script>
</body>
</html>